---
layout: post
title: Where in慢查询的调研和解决方式
comments: true
keywords: Where in慢查询,解决方式
---

这个讲的很详细
http://www.cnblogs.com/xh831213/archive/2012/05/09/2491272.html
解决方案
	select a.id,',', a.name ,',',b.weigou_category_id
	from category a
	inner join category_map b
	on a.id = b.bdh_category_id
	where b.weigou_category_id in(
	select c.weigou_category_id from category_map c group by c.weigou_category_id having count(*) >1
	);
	更改为:
	select a.id,',', a.name ,',',b.weigou_category_id
	from category a
	inner join category_map b
	on a.id = b.bdh_category_id
	where b.weigou_category_id in(
	select tb.weigou_category_id from(
	select c.weigou_category_id from category_map c group by c.weigou_category_id having count(*) >1) as tb
	);
